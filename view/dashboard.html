<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Esfera Odontologia e Saúde</title>

    <link rel="stylesheet" href="/view/css/bootstrap.min.css">
    <link rel="stylesheet" href="/view/css/style.css">

    <link rel="icon" href="/view/images/logoEsferaIcon.png" type="image/x-icon">
</head>

<body>

    <div class="d-flex dashboard-wrapper">

        <aside class="sidebar d-flex flex-column align-items-center">
            <div class="logo-box mt-3 mb-4">
                <img src="/view/images/logoEsferaIcon.png" class="sidebar-logo" alt="logo">
            </div>

            <nav class="sidebar-nav d-flex flex-column gap-4">
                <a href="#" data-section="dash-home" class="sidebar-item active">
                    <i class="bi bi-house"><img src="/view/images/Home.png" alt=""></i>
                </a>
                <a href="#" data-section="dash-appointments" class="sidebar-item">
                    <i class="bi bi-calendar-event"><img src="/view/images/Calendar.png" alt=""></i>
                </a>
                <a href="#" data-section="dash-users" class="sidebar-item">
                    <i class="bi bi-people"><img src="/view/images/Users.png" alt=""></i>
                </a>
                <a href="#" data-section="dash-financial" class="sidebar-item">
                    <i class="bi bi-cash-stack"><img src="/view/images/Financial.png" alt=""></i>
                </a>
                <span class="sidebar-arrow"></span>
            </nav>
        </aside>

        <main class="main-content">

            <header class="topbar">
                <div class="text-end me-3">
                    <small class="text-muted d-block">Recepcionista</small>
                    <strong>Matheus Sobreira</strong>
                </div>
                <div class="user-circle">
                    <i class="bi bi-person"></i>
                </div>
            </header>

            <div id="dash-home" class="content-area">

                <section class="appointments-section">
                    <div class="d-flex justify-content-between mb-2">
                        <h6 class="fw-bold">Próximos agendamentos</h6>
                        <span id="appointments-month" class="text-muted">Novembro de 2025</span>
                    </div>

                    <div class="appointments-box d-flex justify-content-between mb-2 gap-2 overflow-x-auto">
                        <p class="text-muted">Nenhum agendamento futuro disponível por enquanto.</p>

                    </div>
                </section>

                <div class="grid-area">

                    <section class="finance-box card-area">
                        <h6 class="fw-bold mb-3">Resumo Financeiro</h6>
                        <div class="finance-content">

                            <p class="text-muted">Nenhum dado financeiro disponível por enquanto.</p>

                        </div>
                    </section>

                    <section class="employees-box card-area">
                        <h6 class="fw-bold mb-3">Funcionários ativos</h6>
                    </section>

                </div>

            </div>


            <div id="dash-appointments" class="content-area">
                <div class="appointments-page">

                    <div class="appointments-header">
                        <h5 class="fw-bold">Agendamentos</h5>
                        <button id="btnNewAppointment" class="btn btn-sm">+ Novo Agendamento</button>
                    </div>

                    <div class="appointments-layout">

                        <aside class="appointments-left card-area">
                            <div class="mb-4">
                                <label class="small text-muted">Selecionar data</label>
                                <input type="date" id="ap-date" class="form-control" />
                            </div>

                            <div class="mb-4">
                                <h6 class="fw-bold mb-2">Profissionais</h6>
                                <div id="professionalsList" class="d-flex flex-column gap-2"></div>
                                <button id="btnFilterAll" class="btn btn-sm btn-outline-secondary mt-3">Mostrar
                                    todos</button>
                            </div>

                            <div>
                                <h6 class="fw-bold mb-2">Opções</h6>
                                <div class="small text-muted">
                                    <p class="mb-1">Clique em um horário livre para agendar.</p>
                                    <p class="mb-0">Intervalo: 15 minutos</p>
                                </div>
                            </div>
                        </aside>

                        <section class="appointments-right card-area">
                            <div class="appointments-agenda-header">
                                <h6 id="agendaTitle" class="mb-0">Agenda — <span id="agendaDateLabel"></span></h6>
                                <div class="small text-muted" id="agendaLegend">Todos os agendamentos</div>
                            </div>

                            <div id="timelineContainer" class="timeline-container"></div>
                        </section>
                    </div>
                </div>

                <div id="appointmentModal" class="appointments-modal" aria-hidden="true">
                    <div class="appointments-modal-backdrop"></div>

                    <div class="appointments-modal-panel card-area">

                        <div class="appointments-modal-header">
                            <h6 class="mb-0">Novo Agendamento</h6>
                            <button id="modalClose" class="btn btn-sm btn-light">Fechar</button>
                        </div>

                        <div id="modalSteps">
                            <div class="modal-step" data-step="1">
                                <label class="small text-muted">Nome do paciente</label>
                                <input id="m_patientName" class="form-control mb-2" placeholder="Nome completo" />

                                <label class="small text-muted">Telefone</label>
                                <input id="m_patientPhone" class="form-control mb-2" placeholder="(xx) xxxxx-xxxx" />

                                <label class="small text-muted">Email (opcional)</label>
                                <input id="m_patientEmail" class="form-control mb-2" placeholder="email@exemplo.com" />
                            </div>

                            <div class="modal-step d-none" data-step="2">
                                <label class="small text-muted">Selecione o profissional</label>
                                <div id="m_professionals" class="d-flex flex-column gap-2 mt-2"></div>
                            </div>

                            <div class="modal-step d-none" data-step="3">
                                <label class="small text-muted">Data</label>
                                <input id="m_date" type="date" class="form-control mb-2" />

                                <label class="small text-muted">Horários disponíveis</label>
                                <div id="m_timeSlots" class="modal-times"></div>
                            </div>

                            <div class="modal-step d-none" data-step="4">
                                <h6>Revisão</h6>
                                <div id="m_review" class="small text-muted"></div>
                            </div>
                        </div>

                        <div class="appointments-modal-actions">
                            <button id="modalPrev" class="btn btn-sm btn-outline-secondary">Voltar</button>
                            <button id="modalNext" class="btn btn-sm">Próximo</button>
                        </div>

                        <div id="modalError" class="mt-2 text-danger small d-none">Erro</div>
                    </div>
                </div>
            </div>


            <div id="dash-users" class="content-area">
                <div class="users-page">

                    <div class="appointments-header">
                        <h5 class="fw-bold">Usuários</h5>
                        <button id="btnNewUser" class="btn btn-sm">+ Novo Usuário</button>
                    </div>

                    <div class="users-layout">

                        <aside class="users-left card-area">

                            <div class="d-flex justify-content-between align-items-center mb-4">
                                <input type="text" id="userSearch" placeholder="Buscar usuário..."
                                    class="form-control me-2" style="max-width: 260px;">

                                <select id="userSort" class="form-select" style="max-width: 180px;">
                                    <option value="name">Nome A–Z</option>
                                    <option value="name_desc">Nome Z–A</option>
                                    <option value="recent">Mais recentes</option>
                                    <option value="old">Mais antigos</option>
                                </select>
                            </div>


                            <div class="mb-4">
                                <h6 class="fw-bold mb-2">Tipos de Usuário</h6>

                                <div id="usersTypeFilter" class="d-flex flex-column gap-2">
                                    <label class="form-check small">
                                        <input type="radio" name="uType" value="all" checked class="form-check-input">
                                        <span class="form-check-label">Todos</span>
                                    </label>

                                    <label class="form-check small">
                                        <input type="radio" name="uType" value="employee" class="form-check-input">
                                        <span class="form-check-label">Funcionários</span>
                                    </label>

                                    <label class="form-check small">
                                        <input type="radio" name="uType" value="patient" class="form-check-input">
                                        <span class="form-check-label">Pacientes</span>
                                    </label>

                                    <select id="userStatus" class="form-select" style="max-width: 160px;">
                                        <option value="all">Todos</option>
                                        <option value="active">Ativos</option>
                                        <option value="inactive">Inativos</option>
                                    </select>

                                </div>

                            </div>

                            <div>
                                <h6 class="fw-bold mb-2">Opções</h6>
                                <p class="small text-muted mb-1">Clique em um usuário para editar.</p>
                                <p class="small text-muted mb-0">Use o botão no topo para cadastrar novos.</p>
                            </div>

                        </aside>

                        <section class="users-right card-area">

                            <div class="users-list-header d-flex justify-content-between align-items-center mb-3">
                                <h6 class="mb-0">Usuários cadastrados</h6>
                                <small id="usersListCount" class="text-muted"></small>
                            </div>

                            <div id="usersList" class="users-list-container">
                            </div>

                        </section>

                    </div>
                </div>

                <div id="userModal" class="appointments-modal" aria-hidden="true">

                    <div class="appointments-modal-backdrop"></div>

                    <div class="appointments-modal-panel card-area">

                        <div class="appointments-modal-header">
                            <h6 id="u_modalTitle" class="mb-0">Novo Usuário</h6>
                            <button id="u_modalClose" class="btn btn-sm btn-light">Fechar</button>
                        </div>

                        <div id="userModalSteps">

                            <div class="modal-step" data-step="1">
                                <label class="small text-muted">Nome completo</label>
                                <input id="u_name" class="form-control mb-2" placeholder="Nome do usuário">

                                <label class="small text-muted">Tipo</label>
                                <select id="u_type" class="form-control mb-2">
                                    <option value="employee">Funcionário</option>
                                    <option value="patient">Paciente</option>
                                </select>

                                <label class="small text-muted">Telefone</label>
                                <input id="u_phone" class="form-control mb-2" placeholder="(xx) xxxxx-xxxx">

                                <label class="small text-muted">Email</label>
                                <input id="u_email" class="form-control mb-2" placeholder="email@exemplo.com">
                            </div>

                            <div class="modal-step d-none" data-step="2">

                                <div id="employeeFields">

                                    <label class="small text-muted">Cargo</label>
                                    <input id="u_role" class="form-control mb-2"
                                        placeholder="Ex: Dentista, Recepcionista">

                                    <label class="small text-muted">Identificação / Documento</label>
                                    <input id="u_doc" class="form-control mb-2" placeholder="CPF, CRM, CRO etc">

                                    <label for="u_color" class="form-label">Cor de identificação</label>
                                    <input type="color" id="u_color" class="form-control form-control-color"
                                        value="#4A90E2">

                                </div>

                                <div id="patientFields" class="d-none">

                                    <label class="small text-muted">Data de nascimento</label>
                                    <input id="u_birth" type="date" class="form-control mb-2">

                                    <label class="small text-muted">Observações</label>
                                    <textarea id="u_obs" rows="3" class="form-control mb-2"></textarea>
                                </div>
                            </div>

                            <div class="modal-step d-none" data-step="3">
                                <h6>Revisão</h6>
                                <div id="u_review" class="small text-muted"></div>
                            </div>
                        </div>

                        <div class="appointments-modal-actions">
                            <button id="u_modalPrev" class="btn btn-sm btn-outline-secondary">Voltar</button>
                            <button id="u_modalNext" class="btn btn-sm">Próximo</button>
                        </div>

                        <div id="u_modalError" class="mt-2 text-danger small d-none">Erro</div>
                    </div>
                </div>
            </div>


        </main>

    </div>

    <script src="/view/js/bootstrap.min.js"></script>
    <script src="/view/js/tabManipulator.js"></script>
    <script src="/view/js/home.js"></script>
    <script src="/view/js/appointments.js"></script>
    <script src="/view/js/users.js"></script>

</body>

</html>